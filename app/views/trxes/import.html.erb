<% provide(:title, "Import Transactions") %>

<div class="bg-gray-100 rounded-lg shadow-md overflow-hidden flex flex-col h-[calc(100vh-120px)]">
  <!-- Header row -->
  <div class="bg-gray-800 py-3 px-4 flex justify-between items-center flex-shrink-0">
    <div class="w-1/3">
      <%= link_to "Back", trxes_path, class: "text-white hover:text-blue-200" %>
    </div>
    <h1 class="text-white text-xl font-bold w-1/3 text-center">Import Transactions</h1>
    <div class="w-1/3 text-right"></div>
  </div>

  <!-- Content section -->
  <div class="p-4 overflow-y-auto flex-grow">
    <div class="bg-white rounded-lg p-6 shadow-sm mb-6">
      <h2 class="text-lg font-medium text-gray-900 mb-4">File Requirements</h2>
      <div class="text-gray-700">
        <ul class="list-disc pl-5 space-y-2">
          <li>CSV format only</li>
          <li>
            Required columns:
            <ul class="list-disc pl-5 mt-2 space-y-1">
              <li>Date (MM/DD/YYYY)</li>
              <li>Account (must match your budget account names)</li>
              <li>Vendor</li>
              <li>Subcategory (must match your budget subcategories)</li>
              <li>Amount</li>
            </ul>
          </li>
          <li class="mt-2">
            Optional columns:
            <ul class="list-disc pl-5 mt-2 space-y-1">
              <li>Memo</li>
              <li>Cleared</li>
            </ul>
          </li>
        </ul>
      </div>
    </div>

    <div class="bg-white rounded-lg p-6 shadow-sm">
      <%= form_with(url: import_preview_import_trxes_path, 
                  local: true, 
                  multipart: true,
                  data: { turbo: false }) do |f| %>
        <div class="mb-4">
          <%= f.label :file, "Select CSV file", class: "block text-sm font-medium text-gray-700 mb-1" %>
          <%= f.file_field :file, accept: '.csv', class: "block w-full text-sm text-gray-500
                                                        file:mr-4 file:py-2 file:px-4
                                                        file:rounded-md file:border-0
                                                        file:text-sm file:font-semibold
                                                        file:bg-blue-50 file:text-blue-700
                                                        hover:file:bg-blue-100" %>
        </div>

        <div class="mt-6">
          <%= f.submit "Preview Import", class: "px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-md" %>
        </div>
      <% end %>
    </div>
  </div>
</div> 